<MudButton Variant="Variant.Text" OnClick="@(() => OpenDrawer(Anchor.Start))">Open Drawer</MudButton>
<MudSwitch @bind-Value="_overlayAutoClose" Label="Overlay Autoclose" Color="Color.Secondary" />

<MudDrawer @bind-Open="_drawerOpen" Anchor="@_anchor" Elevation="1" Variant="@DrawerVariant.Temporary" OverlayAutoClose="@_overlayAutoClose">
    <MudDrawerHeader>
        <MudText Typo="Typo.h6">Navigation</MudText>
    </MudDrawerHeader>
    <MudNavMenu>
        <MudNavLink Href="/" Icon="@Icons.Material.Filled.Dashboard">Dashboard</MudNavLink>
        <MudNavLink Href="/myAccount" Match="NavLinkMatch.Prefix">My Account</MudNavLink>
        <MudNavLink Href="/profile/CurrentUserId" Icon="@Icons.Material.Filled.Person">My Profile</MudNavLink>

        <MudNavGroup Title="Settings" Expanded="true">
            <MudNavLink Href="/security" Match="NavLinkMatch.Prefix">Security</MudNavLink>
        </MudNavGroup>

        <MudNavGroup Title="Accounts" Expanded="true">
            <MudNavLink Href="/account/users" Match="NavLinkMatch.Prefix">Users</MudNavLink>
            <MudNavLink Href="/account/signin" Match="NavLinkMatch.Prefix">Sign In</MudNavLink>
            <MudNavLink Href="/account/signup" Match="NavLinkMatch.Prefix">Sign Up</MudNavLink>
        </MudNavGroup>

        <MudNavLink Href="/about" Match="NavLinkMatch.Prefix">About</MudNavLink>
        <MudTextField @bind-Value="SearchText" Placeholder="Search..." Variant="Variant.Text" Adornment="Adornment.Start" AdornmentIcon="@Icons.Material.Filled.Search" OnKeyDown="HandleSearchKeyDown" />
        <MudNavLink OnClick="_ => _drawerOpen = false">Close Drawer</MudNavLink>
    </MudNavMenu>
</MudDrawer>

@code {
    private bool _drawerOpen = false;
    private Anchor _anchor = Anchor.Start;
    private bool _overlayAutoClose = true;

    private string SearchText { get; set; } = string.Empty;

    private void OpenDrawer(Anchor anchor)
    {
        _drawerOpen = true;
        _anchor = anchor;
    }

    private void HandleSearchKeyDown(KeyboardEventArgs e)
    {
        if (e.Key == "Enter")
        {
            Console.WriteLine($"Search for: {SearchText}");
        }
    }
}