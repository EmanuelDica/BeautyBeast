@page "/profile/{UserId}"
@inject BeautyBeastServer.Services.PostRepository PostRepository
@using BeautyBeastServer.Services

@code {
    [Parameter] public string UserId { get; set; } = string.Empty;
    private List<BeautyBeastServer.Models.Post> posts = new();

    protected override async Task OnInitializedAsync()
    {
        posts = await PostRepository.GetPostsAsync();
    }
}

<MudPaper Class="pa-4">
    <MudText Typo="Typo.h5">Profile: @UserId</MudText>
    @foreach (var post in posts.Where(p => p.ArtistId.ToString() == UserId)) 
    {
        <MudCard Class="ma-2">
            <MudCardContent>
                  <MudText Typo="Typo.body1">@($"[{(post.MediaUrls.Any() ? "MEDIA" : "STATUS")}] {post.Content}")</MudText>

                    @if (post.MediaUrls.Any())
                {
                    <MudList T="string">
                        @foreach (var file in post.MediaUrls)
                        {
                            <MudListItem Icon="@Icons.Material.Filled.AttachFile">@file</MudListItem>
                        }
                    </MudList>
                }
            </MudCardContent>
        </MudCard>
    }
</MudPaper>