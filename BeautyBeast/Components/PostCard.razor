@inject IDialogService DialogService
@namespace BeautyBeastApp.Components
@using BeautyBeastApp.Dialogs

<MudMenu Icon="@Icons.Material.Outlined.Camera" Color="Color.Inherit">
    <MudMenuItem OnClick="@(() => ShowPostDialog("comment"))">Comment</MudMenuItem>
    <MudMenuItem OnClick="@(() => ShowPostDialog("media"))">Media</MudMenuItem>
</MudMenu>

<MudSnackbarProvider />
<MudDialogProvider /> 

@code {
    private async void ShowPostDialog(string type)
    {
        // Open dialog with respective post type
        var parameters = new DialogParameters { ["PostType"] = type };
        var options = new DialogOptions { CloseOnEscapeKey = true, MaxWidth = MaxWidth.Small };

        // Show the dialog
        var dialog = DialogService.Show<PostDialog>("Create New Post", parameters, options);
        var result = await dialog.Result;

        if (!result!.Canceled)
        {
            Console.WriteLine($"New {type} created!");
        }
    }
}